(executable
 (name sleep)
 (modules sleep)
 (modes native)
 (link_flags :standard -cclib "-z solo5-abi=hvt")
 (enabled_if (= %{context_name} "solo5"))
 (libraries miou-solo5)
 (foreign_stubs (language c) (names manifest)))

(rule
 (targets manifest.c)
 (deps manifest.json)
 (action (run solo5-elftool gen-manifest manifest.json manifest.c)))
